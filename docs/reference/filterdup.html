<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>filterdup — filterdup • MACSr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="filterdup — filterdup"><meta property="og:description" content="filterdup"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-93043521-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-93043521-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MACSr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.11.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/MACSr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/macs3-project/MACSr" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>filterdup</h1>
    
    <div class="hidden name"><code>filterdup.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>filterdup</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">filterdup</span><span class="op">(</span></span>
<span>  <span class="va">ifile</span>,</span>
<span>  gsize <span class="op">=</span> <span class="st">"hs"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"AUTO"</span>,</span>
<span>  tsize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pvalue <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  keepduplicates <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  outputfile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  outdir <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fl">2L</span>,</span>
<span>  buffer_size <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  dryrun <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  log <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ifile</dt>
<dd><p>Input file(s).</p></dd>


<dt>gsize</dt>
<dd><p>Effective genome size. It can be 1.0e+9 or 1000000000,
or shortcuts:'hs' for human (2.7e9), 'mm' for mouse (1.87e9),
'ce' for C. elegans (9e7) and 'dm' for fruitfly (1.2e8),
Default:hs.</p></dd>


<dt>format</dt>
<dd><p>Input file format.</p></dd>


<dt>tsize</dt>
<dd><p>Tag size. This will override the auto detected tag
size.</p></dd>


<dt>pvalue</dt>
<dd><p>Pvalue cutoff for binomial distribution
test. DEFAULT:1e-5.</p></dd>


<dt>keepduplicates</dt>
<dd><p>It controls the behavior towards duplicate
tags at the exact same location -- the same coordination and
the same strand. The 'auto' option makes MACS calculate the
maximum tags at the exact same location based on binomal
distribution using 1e-5 as pvalue cutoff; and the 'all' option
keeps every tags.  If an integer is given, at most this number
of tags will be kept at the same location. Note, if you've used
samtools or picard to flag reads as 'PCR/Optical duplicate' in
bit 1024, MACS2 will still read them although the reads may be
decided by MACS2 as duplicate later. If you plan to rely on
samtools/picard/any other tool to filter duplicates, please
remove those duplicate reads and save a new alignment file then
ask MACS2 to keep all by '--keep-dup all'. The default is to
keep one tag at the same location. Default: 1".</p></dd>


<dt>outputfile</dt>
<dd><p>The output file.</p></dd>


<dt>outdir</dt>
<dd><p>The output directory.</p></dd>


<dt>verbose</dt>
<dd><p>Set verbose level of runtime message. 0: only show
critical message, 1: show additional warning message, 2: show
process information, 3: show debug messages.  DEFAULT: 2.</p></dd>


<dt>buffer_size</dt>
<dd><p>Buffer size for incrementally increasing
internal array size to store reads alignment information. In
most cases, you don't have to change this parameter. However,
if there are large number of chromosomes/contigs/scaffolds in
your alignment, it's recommended to specify a smaller buffer
size in order to decrease memory usage (but it will take longer
time to read alignment files). Minimum memory requested for
reading an alignment file is about # of CHROMOSOME *
BUFFER_SIZE * 8 Bytes. DEFAULT: 100000.</p></dd>


<dt>dryrun</dt>
<dd><p>When set, filterdup will only output numbers instead
of writing output files, including maximum allowable
duplicates, total number of reads before filtering, total
number of reads after filtering, and redundant rate. Default:
not set.</p></dd>


<dt>log</dt>
<dd><p>Whether to capture logs.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>macsList</code> object.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">eh</span> <span class="op">&lt;-</span> <span class="fu">ExperimentHub</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ExperimentHub/man/ExperimentHub-class.html" class="external-link">ExperimentHub</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">CHIP</span> <span class="op">&lt;-</span> <span class="va">eh</span><span class="op">[[</span><span class="st">"EH4558"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> see ?MACSdata and browseVignettes('MACSdata') for documentation</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> loading from cache</span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">filterdup</span><span class="op">(</span>ifile <span class="op">=</span> <span class="va">CHIP</span>, outputfile <span class="op">=</span> <span class="st">"test.bed"</span>, outdir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] # read tag files... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] # read treatment tags... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] Detected format is: BED </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] * Input file is gzipped. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] # tag size = 101 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] # total tags in alignment file: 49622 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] calculate max duplicate tags in single position based on binomal distribution... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB]  max_dup_tags based on binomal = 1 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] filter out redundant tags at the same location and the same strand by allowing at most 1 tag(s) </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB]  tags after filtering in alignment file: 48047 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB]  Redundant rate of alignment file: 0.03 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] Write to BED file </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> INFO  @ 17 Nov 2023 13:42:36: [761 MB] finished! Check test.bed. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Qiang Hu.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

