<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>pileup — pileup • MACSr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="pileup — pileup" />
<meta property="og:description" content="Pileup aligned reads with a given extension size (fragment size or
d in MACS language). Note there will be no step for duplicate reads
filtering or sequencing depth scaling, so you may need to do
certain pre/post-processing." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-93043521-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-93043521-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MACSr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/MACSr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/macs3-project/MACSr">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>pileup</h1>
    
    <div class="hidden name"><code>pileup.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Pileup aligned reads with a given extension size (fragment size or
d in MACS language). Note there will be no step for duplicate reads
filtering or sequencing depth scaling, so you may need to do
certain pre/post-processing.</p>
    </div>

    <pre class="usage"><span class='fu'>pileup</span><span class='op'>(</span>
  <span class='va'>ifile</span>,
  outputfile <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='op'>)</span>,
  outdir <span class='op'>=</span> <span class='st'>"."</span>,
  format <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"AUTO"</span>, <span class='st'>"BAM"</span>, <span class='st'>"SAM"</span>, <span class='st'>"BED"</span>, <span class='st'>"ELAND"</span>, <span class='st'>"ELANDMULTI"</span>, <span class='st'>"ELANDEXPORT"</span>,
    <span class='st'>"BOWTIE"</span>, <span class='st'>"BAMPE"</span>, <span class='st'>"BEDPE"</span><span class='op'>)</span>,
  bothdirection <span class='op'>=</span> <span class='cn'>FALSE</span>,
  extsize <span class='op'>=</span> <span class='fl'>200L</span>,
  buffer_size <span class='op'>=</span> <span class='fl'>100000L</span>,
  verbose <span class='op'>=</span> <span class='fl'>2L</span>,
  log <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ifile</th>
      <td><p>Alignment file. If multiple files are given as '-t A B
C', then they will all be read and combined. Note that pair-end
data is not supposed to work with this command. REQUIRED.</p></td>
    </tr>
    <tr>
      <th>outputfile</th>
      <td><p>Output bedGraph file name. If not specified, will
write to standard output. REQUIRED.</p></td>
    </tr>
    <tr>
      <th>outdir</th>
      <td><p>The output directory.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>Format of tag file, \"AUTO\", \"BED\", \"ELAND\",
\"ELANDMULTI\", \"ELANDEXPORT\", \"SAM\", \"BAM\", \"BOWTIE\",
\"BAMPE\", or \"BEDPE\". The default AUTO option will let
'%(prog)s' decide which format the file is. DEFAULT: \"AUTO\",
MACS3 will pick a format from \"AUTO\", \"BED\", \"ELAND\",
\"ELANDMULTI\", \"ELANDEXPORT\", \"SAM\", \"BAM\" and
\"BOWTIE\". If the format is BAMPE or BEDPE, please specify it
explicitly. Please note that when the format is BAMPE or BEDPE,
the -B and --extsize options would be ignored.</p></td>
    </tr>
    <tr>
      <th>bothdirection</th>
      <td><p>By default, any read will be extended towards
downstream direction by extension size. So it's [0,size-1]
(1-based index system) for plus strand read and [-size+1,0] for
minus strand read where position 0 is 5' end of the aligned
read. Default behavior can simulate MACS3 way of piling up ChIP
sample reads where extension size is set as fragment size/d. If
this option is set as on, aligned reads will be extended in
both upstream and downstream directions by extension size. It
means [-size,size] where 0 is the 5' end of a aligned read. It
can partially simulate MACS3 way of piling up control
reads. However MACS3 local bias is calculated by maximizing the
expected pileup over a ChIP fragment size/d estimated from
10kb, 1kb, d and whole genome background. This option will be
ignored when the format is set as BAMPE or BEDPE. DEFAULT:
False</p></td>
    </tr>
    <tr>
      <th>extsize</th>
      <td><p>The extension size in bps. Each alignment read will
become a EXTSIZE of fragment, then be piled up. Check
description for -B for detail. It's twice the <code>shiftsize</code> in
old MACSv1 language. This option will be ignored when the
format is set as BAMPE or BEDPE. DEFAULT: 200</p></td>
    </tr>
    <tr>
      <th>buffer_size</th>
      <td><p>Buffer size for incrementally increasing
internal array size to store reads alignment information. In
most cases, you don't have to change this parameter. However,
if there are large number of chromosomes/contigs/scaffolds in
your alignment, it's recommended to specify a smaller buffer
size in order to decrease memory usage (but it will take longer
time to read alignment files). Minimum memory requested for
reading an alignment file is about # of CHROMOSOME *
BUFFER_SIZE * 8 Bytes. DEFAULT: 100000</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Set verbose level. 0: only show critical message, 1:
show additional warning message, 2: show process information,
3: show debug messages. If you want to know where are the
duplicate reads, use 3. DEFAULT:2</p></td>
    </tr>
    <tr>
      <th>log</th>
      <td><p>Whether to capture logs.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>macsList</code> object.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>eh</span> <span class='op'>&lt;-</span> <span class='fu'>ExperimentHub</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/ExperimentHub/man/ExperimentHub-class.html'>ExperimentHub</a></span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>snapshotDate(): 2020-12-09</span></div><div class='input'><span class='va'>CHIP</span> <span class='op'>&lt;-</span> <span class='va'>eh</span><span class='op'>[[</span><span class='st'>"EH4558"</span><span class='op'>]</span><span class='op'>]</span>
</div><div class='output co'>#&gt; <span class='message'>see ?MACSdata and browseVignettes('MACSdata') for documentation</span></div><div class='output co'>#&gt; <span class='message'>loading from cache</span></div><div class='input'><span class='fu'>pileup</span><span class='op'>(</span><span class='va'>CHIP</span>, outdir <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, outputfile <span class='op'>=</span> <span class='st'>"pileup_bed.bdg"</span>, format <span class='op'>=</span> <span class='st'>"BED"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>INFO  @ Sun, 13 Dec 2020 14:23:28: # read alignment files... </span>
#&gt; <span class='message'>INFO  @ Sun, 13 Dec 2020 14:23:28: # read treatment tags... </span>
#&gt; <span class='message'>INFO  @ Sun, 13 Dec 2020 14:23:28: tag size is determined as 101 bps </span>
#&gt; <span class='message'>INFO  @ Sun, 13 Dec 2020 14:23:28: # tag size = 101 </span>
#&gt; <span class='message'>INFO  @ Sun, 13 Dec 2020 14:23:28: # total tags in alignment file: 49622 </span>
#&gt; <span class='message'>INFO  @ Sun, 13 Dec 2020 14:23:28: # Pileup alignment file, extend each read towards downstream direction with 200 bps </span>
#&gt; <span class='message'>INFO  @ Sun, 13 Dec 2020 14:23:28: # Done! Check pileup_bed.bdg </span>
#&gt; <span class='message'></span></div><div class='output co'>#&gt; <span class='error'>Error in .setupMethodsTables(fdef, initialize = TRUE): trying to get slot "group" from an object of a basic class ("NULL") with no slots</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Qiang Hu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


